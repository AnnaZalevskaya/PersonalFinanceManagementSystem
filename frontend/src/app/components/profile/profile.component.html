<main>
  <div class="container" *ngIf="isLoadingForm">
    <h1>Profile</h1>
    <div class="profile-header">
      <input type="submit" class="add-account-button" value="Create an account" routerLink="/profile/{{ user.id }}/add-account">
    </div>
    <div class="profile-container">
      <div class="profile-info">
        <p class="username">{{ user.username }}</p>
        <hr>
        <p>Email: {{ user.email }}</p>
        <p>Phone: {{ user.phoneNumber }}</p>
      </div>
      <div class="spacer"></div>
      <div class="accounts-container">
        <h2>User accounts</h2>
        <div id="account-cards-container">
          <ng-container *ngIf="accounts.length > 0; else noAccountsMessage">
            <div *ngFor="let account of accounts" class="account-card">
              <div class="account-card-header">
                <h3>
                  <a routerLink="/profile/{{ user.id }}/account/{{ account.id }}" routerLinkActive="active-link">
                    {{ account.name }}
                  </a>
                </h3>
              </div>
              <div class="account-card-body">
                <p>ID: {{ account.id }}</p>
                <p>Balance: {{ account.balance }}</p>
                <p>Currency: {{ account.currency.name }} ({{ account.currency.abbreviation }})</p>
                <p>Account Type: {{ account.accountType.name }}</p>
              </div>
            </div>
          </ng-container>
          <ng-template #noAccountsMessage>
            <div class="message">
              This user has not created accounts yet
            </div>
          </ng-template>
        </div>
      </div>
    </div>
  </div>
  <app-loading-indicator *ngIf="!isLoadingForm"></app-loading-indicator>
</main>